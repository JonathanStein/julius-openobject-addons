<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
        <record id="view_create_tax_certificate" model="ir.ui.view">
            <field name="name">Create tax certificate</field>
            <field name="model">create.tax.certificate</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Create tax certificate">
                	<separator string="Select a period" colspan="4"/>
                	<group colspan="4" col="6">
	                	<group colspan="2" col="2">
		                    <button special="cancel" string="Cancel" name="action_cancel" type="object" icon='gtk-cancel'/>
		                    <button name="create_certificate" string="Create tax certificate" icon='gtk-ok' type="object"/>
	                	</group>
	                	<group colspan="2" col="2">
	                	</group>
	                	<group colspan="2" col="2">
	                	</group>
	                    <newline/>
	                	<group colspan="3" col="2">
	                		<field name="fiscalyear_id" on_change="on_change_fiscal_filter(fiscalyear_id, filter)"/>
	                	</group>
                	</group>
	                <newline/>
	                <notebook>
		                <page string="Filters">
		                	<group colspan="4" col="4">
			                	<separator string="Filters" colspan="4"/>
			                	<group colspan="2" col="2">
			                		<field name="filter" on_change="on_change_fiscal_filter(fiscalyear_id, filter)"/>
			                	</group>
				                <group colspan="2" col="2">
				                </group>
			                </group>
		                    <newline/>
		                	<group attrs="{'invisible':['|',('filter', '&lt;&gt;', 'date'),('filter', '&lt;&gt;', 'both')]}">
			                	<separator string="Filters on dates" colspan="4"/>
			                	<field name="date_begin" attrs="{'required':[('filter', 'in', ['date','both'])]}"/>
			                	<field name="date_end" attrs="{'required':[('filter', 'in', ['date','both'])]}"/>
		                	</group>
		                    <newline/>
		                	<group attrs="{'invisible':['|',('filter', '&lt;&gt;', 'period'),('filter', '&lt;&gt;', 'both')]}">
			                	<separator string="Filters on periods" colspan="4"/>
			                	<field name="period_ids" nolabel="1" domain="[('fiscalyear_id', '=', fiscalyear_id)]"/>
		                	</group>
		                </page>
		                <page string="Partners">
			                <separator string="Families" colspan="4"/>
		                	<field name="partner_ids" nolabel="1"/>
		                </page>
	                </notebook>
                </form>
            </field>
        </record>
        
        <act_window
        			id="act_view_view_create_tax_certificate" 
        			name="Create certificate" 
        			res_model="create.tax.certificate" 
        			src_model="res.partner"
        			target="new"
        			view_mode="form"/>

    </data>
</openerp>
